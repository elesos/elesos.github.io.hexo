<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"right","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="git 默认不区分文件名大小写 1git config core.ignorecase false  &#x2F;&#x2F;ignore case 忽略大小写  Windows版本: https:&#x2F;&#x2F;git-scm.com&#x2F;downloads Git的好处是提交时不需要联网，有网络时再推送即可 如果clone时使用https，推送时需要输入密码，最好用ssh协议 初始配置12git confi">
<meta property="og:type" content="article">
<meta property="og:title" content="git简明教程">
<meta property="og:url" content="https://elesos.github.io/2021/07/09/%E6%8A%80%E6%9C%AF/git/git%E7%AE%80%E6%98%8E%E6%95%99%E7%A8%8B/">
<meta property="og:site_name" content="艺搜天下 | 视频技术博客">
<meta property="og:description" content="git 默认不区分文件名大小写 1git config core.ignorecase false  &#x2F;&#x2F;ignore case 忽略大小写  Windows版本: https:&#x2F;&#x2F;git-scm.com&#x2F;downloads Git的好处是提交时不需要联网，有网络时再推送即可 如果clone时使用https，推送时需要输入密码，最好用ssh协议 初始配置12git confi">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://elesos.github.io/images/2021/git.png">
<meta property="og:image" content="https://elesos.github.io/images/2021/git_add.png">
<meta property="article:published_time" content="2021-07-08T23:13:01.000Z">
<meta property="article:modified_time" content="2021-10-01T12:31:46.096Z">
<meta property="article:author" content="elesos">
<meta property="article:tag" content="git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://elesos.github.io/images/2021/git.png">

<link rel="canonical" href="https://elesos.github.io/2021/07/09/%E6%8A%80%E6%9C%AF/git/git%E7%AE%80%E6%98%8E%E6%95%99%E7%A8%8B/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>git简明教程 | 艺搜天下 | 视频技术博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">艺搜天下 | 视频技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">视频技术博客</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://elesos.github.io/2021/07/09/%E6%8A%80%E6%9C%AF/git/git%E7%AE%80%E6%98%8E%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="elesos">
      <meta itemprop="description" content="视频经验，视频解答，视频教程，视频教学">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="艺搜天下 | 视频技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          git简明教程
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-09 07:13:01" itemprop="dateCreated datePublished" datetime="2021-07-09T07:13:01+08:00">2021-07-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-10-01 20:31:46" itemprop="dateModified" datetime="2021-10-01T20:31:46+08:00">2021-10-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/git/" itemprop="url" rel="index">
                    <span itemprop="name">git</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img src="/images/2021/git.png" alt=""></p>
<p>git 默认不区分文件名大小写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config core.ignorecase false  &#x2F;&#x2F;ignore case 忽略大小写</span><br></pre></td></tr></table></figure>

<p>Windows版本: <a href="https://git-scm.com/downloads" target="_blank" rel="noopener">https://git-scm.com/downloads</a></p>
<p>Git的好处是提交时不需要联网，有网络时再推送即可</p>
<p>如果clone时使用https，推送时需要输入密码，最好用ssh协议</p>
<h2 id="初始配置"><a href="#初始配置" class="headerlink" title="初始配置"></a>初始配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;your_name&quot;</span><br><span class="line">git config --global user.email your_email</span><br></pre></td></tr></table></figure>

<p>查看config配置信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">查看系统config  git config --system --list　　</span><br><span class="line">查看当前用户（global）配置 git config --global  --list </span><br><span class="line">查看当前仓库配置信息 git config --local  --list</span><br></pre></td></tr></table></figure>

<h2 id="配置别名"><a href="#配置别名" class="headerlink" title="配置别名"></a>配置别名</h2><p>以后输入git st就表示git status，可以节省时间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.st status &amp;&amp; git config --global alias.co checkout </span><br><span class="line">git config --global alias.ci commit &amp;&amp; git config --global alias.br branch</span><br></pre></td></tr></table></figure>

<h2 id="忽略文件权限变化"><a href="#忽略文件权限变化" class="headerlink" title="忽略文件权限变化"></a>忽略文件权限变化</h2><p>在项目里面运行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config core.fileMode false</span><br></pre></td></tr></table></figure>

<h2 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add -A &amp;&amp; git ci-m &quot;update&quot; &amp;&amp; git push -u origin master</span><br></pre></td></tr></table></figure>



<h1 id="Git-解决远程仓库文件大小写问题"><a href="#Git-解决远程仓库文件大小写问题" class="headerlink" title="Git 解决远程仓库文件大小写问题"></a>Git 解决远程仓库文件大小写问题</h1><p><a href="https://www.jianshu.com/p/420d38913578" target="_blank" rel="noopener">https://www.jianshu.com/p/420d38913578</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config core.ignorecase false</span><br></pre></td></tr></table></figure>

<p>设置本地git环境识别大小写</p>
<p>然后把本地文件改成小写的3rdparty/curl/mac（原来是Mac）</p>
<p>删除Mac文件夹下的所有文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached 3rdparty&#x2F;curl&#x2F;Mac -r （注意一定要是原来的Mac,不能在Mac上层目录执行！！！）</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add . 在自己的目录下运行！！！</span><br><span class="line">git commit -m&#39;rm files&#39;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>

<p>把我坑惨了！！！</p>
<p>现在别人拉代码，会把本地的删除！！！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout . # 本地所有修改的。没有的提交的，都返回到原来的状态，慎用！会把自己的修改覆盖！！！</span><br><span class="line">git checkout -- 3rdparty</span><br></pre></td></tr></table></figure>

<p><strong>以后尽量先删除，提交，然后再整理好了，重新提交！</strong></p>
<h2 id="改动"><a href="#改动" class="headerlink" title="改动"></a>改动</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git diff readme.txt </span><br><span class="line">git log</span><br><span class="line">git log --pretty&#x3D;oneline</span><br></pre></td></tr></table></figure>

<p>HEAD表示当前版本，上一个版本就是HEAD^，上上一个版本就是HEAD^^</p>
<p>回退到上一个版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br><span class="line">git reset --hard 1094a  &#x2F;&#x2F;回到某个版本</span><br></pre></td></tr></table></figure>

<h2 id="工作区（Working-Directory）"><a href="#工作区（Working-Directory）" class="headerlink" title="工作区（Working Directory）"></a>工作区（Working Directory）</h2><p>电脑里能看到的目录</p>
<h2 id="版本库（Repository）"><a href="#版本库（Repository）" class="headerlink" title="版本库（Repository）"></a>版本库（Repository）</h2><p>工作区有一个隐藏目录.git，是Git的版本库。里面有暂存区，</p>
<p>add和commit就是在里面。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff HEAD -- readme.txt命令可以查看工作区和版本库里面最新版本的区别</span><br></pre></td></tr></table></figure>

<h2 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h2><p>git checkout – readme.txt意思就是，把readme.txt文件在工作区的修改全部撤销，这里有两种情况：</p>
<p>一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；</p>
<p>一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。</p>
<p>总之，就是让这个文件回到最近一次git commit或git add时的状态。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD readme.txt 把暂存区的修改撤销掉（unstage），就是撤销add过后的。</span><br><span class="line">git checkout . # 恢复暂存区的所有文件到工作区</span><br><span class="line">git clean -nfd  删除 untracked files,d表示目录，-n 参数先看看会删掉哪些文件，防止重要文件被误删，然后运行git clean -fd真正删除。（最好在子目录下运行！一部分一部分的删除）</span><br></pre></td></tr></table></figure>

<p>返回到某个版本，不要本地的修改了。</p>
<p>先show log, 选reset 先第3个hard选项。</p>
<p>To restore all files in the current directory</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git restore .  &#x2F;&#x2F;可以先cd到对应目录再执行</span><br></pre></td></tr></table></figure>

<p>运行上面命令：error: pathspec ‘.’ did not match any file(s) known to git，可能是没有变化！</p>
<h3 id="撤消对文件的修改状态"><a href="#撤消对文件的修改状态" class="headerlink" title="撤消对文件的修改状态"></a>撤消对文件的修改状态</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git co -- &lt;file&gt;</span><br></pre></td></tr></table></figure>



<h2 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm test.txt &amp;&amp; git rm test.txt &amp;&amp;  git commit -m &quot;remove test.txt&quot;</span><br></pre></td></tr></table></figure>

<p>误删的文件恢复到最新版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- test.txt 用版本库里的版本替换工作区的版本，无论工作区是修改还是删除，都可以“一键还原”。  也可以作用于目录</span><br></pre></td></tr></table></figure>

<p>没有被添加到版本库就被删除的文件，是无法恢复的！</p>
<h2 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h2><p>　git checkout -b develop master</p>
<p>删除dev分支就是把dev指针给删掉</p>
<p>dev分支的工作完成，我们就可以切换回master分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git merge dev把dev分支的工作成果合并到master分支上，Fast-forward信息告诉我们，这次合并是“快进模式”，也就是直接把master指向dev的当前提交，所以合并速度非常快。</span><br><span class="line">Your branch is ahead of &#39;origin&#x2F;master&#39; by 1 commit.提示我们当前master分支比远程的master分支要超前1个提交。</span><br></pre></td></tr></table></figure>

<h2 id="冲突"><a href="#冲突" class="headerlink" title="冲突"></a>冲突</h2><p>如果git merge feature1冲突了。解决后，add,ci,再删除分支</p>
<p>不用Fast forward, –no-ff参数，表示禁用Fast forward：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge --no-ff -m &quot;merge with no-ff&quot; dev</span><br></pre></td></tr></table></figure>

<p>Git就会在merge时生成一个新的commit,因为本次合并要创建一个新的commit，所以加上-m参数，把commit描述写进去。</p>
<h2 id="bug分支"><a href="#bug分支" class="headerlink" title="bug分支"></a>bug分支</h2><p>Git还提供了一个stash功能，可以把当前工作现场“储藏”起来，等以后恢复现场后继续工作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash &#x2F;&#x2F;假设此时在dev分支上</span><br></pre></td></tr></table></figure>

<p>现在，用git status查看工作区，就是干净的（除非有没有被Git管理的文件），因此可以放心地创建分支来修复bug。</p>
<p>首先确定要在哪个分支上修复bug，假定需要在master分支上修复，就从master创建临时分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git checkout -b bug-101</span><br></pre></td></tr></table></figure>

<p>假如之前在dev分支上，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git stash list 查看刚才保存的工作现场</span><br><span class="line">git stash pop</span><br></pre></td></tr></table></figure>

<h1 id="Git-本地服务器"><a href="#Git-本地服务器" class="headerlink" title="Git 本地服务器"></a>Git 本地服务器</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git init --bare star.git</span><br><span class="line">cd star.git</span><br><span class="line">pwd</span><br><span class="line">&#x2F;c&#x2F;Users&#x2F;leijh&#x2F;laravel_code&#x2F;aa&#x2F;star.git</span><br></pre></td></tr></table></figure>

<p>then</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone &#x2F;c&#x2F;Users&#x2F;leijh&#x2F;laravel_code&#x2F;aa&#x2F;star.git</span><br></pre></td></tr></table></figure>

<h1 id="Git-clone仓库的一个子目录"><a href="#Git-clone仓库的一个子目录" class="headerlink" title="Git clone仓库的一个子目录"></a>Git clone仓库的一个子目录</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd models</span><br><span class="line">git init</span><br><span class="line">git remote add origin  https:&#x2F;&#x2F;github.com&#x2F;tensorflow&#x2F;models.git # 增加远端的仓库地址</span><br><span class="line">git config core.sparsecheckout true # 设置Sparse Checkout 为true </span><br><span class="line">echo &quot;research&#x2F;deeplab&quot; &gt;&gt; .git&#x2F;info&#x2F;sparse-checkout # 将要部分clone的目录相对根目录的路径写入配置文件</span><br><span class="line">git pull origin master</span><br></pre></td></tr></table></figure>

<p>如果只想保留最新的文件而不要历史版本的文件，上例最后一行可以用git pull –dpeth 1命令，即“浅克隆”：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull --depth 1 origin master</span><br></pre></td></tr></table></figure>

<p>git有个”Spare Checkout”的功能，在checkout的时候，只跟踪符合配置文件.git/info/sparse-checkout里面写入的模式的文件</p>
<h2 id="防止重复修复"><a href="#防止重复修复" class="headerlink" title="防止重复修复"></a>防止重复修复</h2><p>在master分支上修复了bug后，我们要想一想，dev分支是早期从master分支分出来的，所以，这个bug其实在当前dev分支上也存在。</p>
<p>同样的bug，要在dev上修复，我们只需要把4c805e2 fix bug 101这个提交所做的修改“复制”到dev分支。注意：我们只想复制4c805e2 fix bug 101这个提交所做的修改，并不是把整个master分支merge过来。</p>
<p>cherry-pick命令，让我们能复制一个特定的提交到当前分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick 4c805e2</span><br></pre></td></tr></table></figure>

<p>就不需要在dev分支上手动再把修bug的过程重复一遍。</p>
<h2 id="不想要的分支"><a href="#不想要的分支" class="headerlink" title="不想要的分支"></a>不想要的分支</h2><p>不想合并的分支，使用大写的-D参数。。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -D feature-vulcan</span><br></pre></td></tr></table></figure>

<h2 id="推送"><a href="#推送" class="headerlink" title="推送"></a>推送</h2><p>如果要推送其他分支，比如dev，就改成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin dev</span><br></pre></td></tr></table></figure>

<p>别的小伙伴，创建远程origin的dev分支到本地</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b dev origin&#x2F;dev</span><br></pre></td></tr></table></figure>

<p>如果别人已经向远程库push了。那我们push前需要先</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch --set-upstream-to&#x3D;origin&#x2F;dev dev 指定本地dev分支与远程origin&#x2F;dev分支的链接</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>

<p>如果自动合并有冲突，就手动解决。</p>
<h2 id="Rebase变基"><a href="#Rebase变基" class="headerlink" title="Rebase变基"></a>Rebase变基</h2><p>为什么Git的提交历史不能是一条干净的直线？</p>
<p>git pull时有可能会自动生成一次提交。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase 分叉的提交现在变成一条直线了！</span><br></pre></td></tr></table></figure>

<p>然后push</p>
<p>rebase操作可以把本地未push的分叉提交历史整理成直线；</p>
<p><a href="https://git-scm.com/book/zh/v2/Git-分支-变基" target="_blank" rel="noopener">https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA</a></p>
<p>merge合并的结果是生成一个新的快照（并提交）</p>
<p>其实，还有一种方法：你可以提取在 experiment 中引入的补丁和修改，然后在 master 的基础上应用一次。 在 Git 中，这种操作就叫做 变基（rebase）。 你可以使用 rebase 命令将提交到某一分支上的所有修改都移至另一分支上，就好像“重新播放”一样。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout experiment</span><br><span class="line">$ git rebase master</span><br></pre></td></tr></table></figure>

<p>现在回到 master 分支，进行一次快进合并。</p>
<p>$ git checkout master </p>
<p>$ git merge experiment</p>
<h3 id="Git-pull-–rebase"><a href="#Git-pull-–rebase" class="headerlink" title="Git pull –rebase"></a>Git pull –rebase</h3><p>If you pull remote changes with the flag –rebase, then your local changes are reapplied on top of the remote changes.</p>
<p><a href="https://sdqweb.ipd.kit.edu/wiki/Git_pull_--rebase_vs._--merge" target="_blank" rel="noopener">https://sdqweb.ipd.kit.edu/wiki/Git_pull_--rebase_vs._--merge</a></p>
<p>It is best practice to always rebase your local commits when you pull before pushing them.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global pull.rebase true</span><br></pre></td></tr></table></figure>

<p><a href="https://stackoverflow.com/questions/2472254/when-should-i-use-git-pull-rebase" target="_blank" rel="noopener">https://stackoverflow.com/questions/2472254/when-should-i-use-git-pull-rebase</a></p>
<h2 id="SourceTree"><a href="#SourceTree" class="headerlink" title="SourceTree"></a>SourceTree</h2><p>Atlassian开发</p>
<p>如果本地已经有了Git库，直接从资源管理器把文件夹拖拽到SourceTree上，就添加了一个本地Git库：</p>
<p>也可以选择“New”-“Clone from URL”直接从远程克隆到本地。</p>
<h3 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h3><p>左侧面板的“WORKSPACE”-“File status”，右侧会列出当前已修改的文件（Unstaged files）</p>
<p>选中某个文件，该文件就自动添加到“Staged files”，实际上是执行了git add README.md命令</p>
<p>然后，我们在下方输入Commit描述，点击“Commit”，就完成了一个本地提交：实际上是执行了git commit -m “update README.md”命令。</p>
<h3 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h3><p>左侧面板的“BRANCHES”下，列出了当前本地库的所有分支。当前分支会加粗并用○标记。</p>
<p>要切换分支，我们只需要选择该分支，例如master，然后点击右键，在弹出菜单中选择“Checkout master”，实际上是执行命令git checkout master：</p>
<p>要合并分支，同样选择待合并分支，例如dev，然后点击右键，在弹出菜单中选择“Merge dev into master”，实际上是执行命令git merge dev：</p>
<h3 id="推送-1"><a href="#推送-1" class="headerlink" title="推送"></a>推送</h3><p>在SourceTree的工具栏上，分别有Pull和Push，分别对应命令git pull和git push，只需注意本地和远程分支的名称要对应起来</p>
<h2 id="如何clone远程的指定分支？"><a href="#如何clone远程的指定分支？" class="headerlink" title="如何clone远程的指定分支？"></a>如何clone远程的指定分支？</h2><p>在“远程origin”列表里有所有远端的分支，右键“检出”即可。</p>
<p>在本地分支标签下有全部本地的分支，双击就可以切换。</p>
<p><a href="https://www.liaoxuefeng.com/wiki/896043488029600" target="_blank" rel="noopener">https://www.liaoxuefeng.com/wiki/896043488029600</a></p>
<h1 id="Git-add-git-add-u-git-add-A命令区别"><a href="#Git-add-git-add-u-git-add-A命令区别" class="headerlink" title="Git add . git add -u git add -A命令区别"></a>Git add . git add -u git add -A命令区别</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add -A  提交所有变化，--all的缩写</span><br><span class="line">git add .  同-A</span><br><span class="line">git add -u 已经被add的文件（即tracked file） ,不会提交新文件（untracked file）。（git add --update的缩写）即： -u  提交被修改(modified)和被删除(deleted)文件，不包括新文件(new)</span><br></pre></td></tr></table></figure>

<p><img src="/images/2021/git_add.png" alt=""></p>
<p>详细请参见git help add</p>
<p><a href="http://www.cnblogs.com/skura23/p/5859243.html" target="_blank" rel="noopener">http://www.cnblogs.com/skura23/p/5859243.html</a></p>
<h3 id="提交到本地"><a href="#提交到本地" class="headerlink" title="提交到本地"></a>提交到本地</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add file_name</span><br><span class="line">git ci -m &quot;message&quot;</span><br><span class="line">git add [dir] # 添加指定目录到暂存区，包括子目录</span><br></pre></td></tr></table></figure>

<h3 id="修改url"><a href="#修改url" class="headerlink" title="修改url"></a>修改url</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote set-url origin  new_url</span><br></pre></td></tr></table></figure>

<h3 id="fetch与pull"><a href="#fetch与pull" class="headerlink" title="fetch与pull"></a>fetch与pull</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git fetch &lt;远程主机名&gt;   #通常用来查看他人的进程，取回的代码对本地开发代码没有影响</span><br></pre></td></tr></table></figure>

<p>默认取回所有分支的更新,如果只想取回特定分支的更新，可以指定分支名。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git fetch &lt;远程主机名&gt; &lt;分支名&gt;</span><br></pre></td></tr></table></figure>

<p>取回远程主机的更新以后，可以在它的基础上，创建一个新的分支。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b newBrach origin&#x2F;master</span><br></pre></td></tr></table></figure>

<p><strong>也可以</strong>使用git merge命令或者git rebase命令，在本地分支上合并远程分支。 如<strong>在当前分支上</strong>，合并origin/master：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge origin&#x2F;master</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase origin&#x2F;master</span><br></pre></td></tr></table></figure>

<ul>
<li>git pull的作用是，<strong>取回远程主机某个分支的更新，再与本地的指定分支合并</strong>。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull &lt;远程主机名&gt; &lt;远程分支&gt;:&lt;本地分支&gt;</span><br></pre></td></tr></table></figure>

<p>比如，取回origin主机的next分支，与本地的master分支合并，需要写成下面这样。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin next:master</span><br></pre></td></tr></table></figure>

<p>这等同于先做git fetch，再做git merge</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin</span><br><span class="line">git merge origin&#x2F;next</span><br></pre></td></tr></table></figure>

<h3 id="push"><a href="#push" class="headerlink" title="push"></a>push</h3><p>提交代码前先下载最新的线上代码并进行合并</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull &#x2F;&#x2F;会进行2个操作，下载与合并</span><br></pre></td></tr></table></figure>

<p>如果有冲突，解决掉并git add和git commit，最后再推送到服务器上。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push &lt;远程主机名&gt; &lt;本地分支&gt;:&lt;远程分支&gt;</span><br></pre></td></tr></table></figure>

<p>顺序是&lt;源&gt;:&lt;目的&gt;，所以git pull是&lt;远程分支&gt;:&lt;本地分支&gt;，而git push是&lt;本地分支&gt;:&lt;远程分支&gt;。</p>
<p>push时如果该远程分支不存在，则会被新建。</p>
<p><strong>删除origin主机的master分支:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin --delete master</span><br></pre></td></tr></table></figure>

<p>如果当前分支与多个主机存在追踪关系，则可以使用-u选项指定一个默认主机，这样以后就可以不加任何参数使用git push了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<p>不带任何参数的git push，默认只推送当前分支</p>
<p>将本地的所有分支都推送到远程主机，这时需要使用–all选项：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --all origin</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">git branch --<span class="built_in">set</span>-upstream-to=origin/branch-name branch-name</span><br></pre></td></tr></table></figure>

<p>将<code>branch-name</code>分支追踪远程分支<code>origin/branch-name</code></p>
<h3 id="remote"><a href="#remote" class="headerlink" title="remote"></a>remote</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote &#x2F;&#x2F;列出所有远程主机</span><br><span class="line">git remote -v&#x2F;&#x2F;使用-v选项，可以查看远程主机的网址：</span><br></pre></td></tr></table></figure>

<p>添加远程主机</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add &lt;主机名&gt; &lt;网址&gt;</span><br></pre></td></tr></table></figure>

<p>删除远程主机</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rm &lt;主机名&gt;</span><br></pre></td></tr></table></figure>

<h3 id="branch"><a href="#branch" class="headerlink" title="branch"></a>branch</h3><p>查看当前所在分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git br  &#x2F;&#x2F;前面有*号的表示当前所在分支, -a查看所有分支,-r选项可以用来查看远程分支，</span><br></pre></td></tr></table></figure>

<ul>
<li>分支管理</li>
</ul>
<p>代码下载后，先在本地创建一个分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git co -b bug4  &#x2F;&#x2F;创建一个 bug4分支 并切换过去，用以解决编号为4的bug</span><br></pre></td></tr></table></figure>

<p>或者创建一个开发新功能的分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git co -b new_feature_name</span><br></pre></td></tr></table></figure>

<p>确定合并这个分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git co master   &#x2F;&#x2F;切换到主分支</span><br><span class="line">git merge bug4  &#x2F;&#x2F;合并bug4分支</span><br><span class="line">git br -d bug4 &#x2F;&#x2F;删除bug4分支</span><br></pre></td></tr></table></figure>

<p>其它</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -B new_branch &lt;start_point&gt;</span><br></pre></td></tr></table></figure>

<p>其中start-point可以是tag, <a href="https://git-scm.com/docs/git-branch#Documentation/git-branch.txt-ltstart-pointgt" target="_blank" rel="noopener">https://git-scm.com/docs/git-branch#Documentation/git-branch.txt-ltstart-pointgt</a></p>
<h2 id="Github常用操作"><a href="#Github常用操作" class="headerlink" title="Github常用操作"></a>Github常用操作</h2><ul>
<li>添加ssh keys</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;elesos&quot;</span><br></pre></td></tr></table></figure>

<p>然后一路回车，如果有多个，也可以在下面指定文件名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter file in which to save the key (&#x2F;c&#x2F;Users&#x2F;elesos&#x2F;.ssh&#x2F;id_rsa): elesos</span><br></pre></td></tr></table></figure>

<p>点右上角的Settings，然后选择”SSH and GPG keys”，复制id_rsa.pub内容</p>
<p>测试</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com  &#x2F;&#x2F;详细的还可以用-vT。-T：Disable pseudo-tty allocation.禁止分配伪终端,当用ssh或telnet等登录系统时，系统分配给我们的终端就是伪终端。</span><br></pre></td></tr></table></figure>

<ul>
<li>如果<strong>已经在本地创建了</strong>一个仓库，又想在GitHub创建一个仓库，并且让这两个仓库进行同步</li>
</ul>
<p>首先，在GitHub上创建一个新的仓库,创建时最好一切都保持默认设置，不要选GPL协议，不然不是空库了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin url</span><br></pre></td></tr></table></figure>

<p>添加后，origin是远程主机的名字</p>
<p>下一步，把本地库的内容推送到远程库上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master  &#x2F;&#x2F;把master推送到远程</span><br></pre></td></tr></table></figure>

<p>由于远程库是空的，我们第一次推送master分支时，加上了-u参数，Git不但会把本地的master推送到远程新的master，还会把本地的master和远程的master关联起来，在以后的推送或者拉取时就可以简化命令(如直接用git push)。</p>
<p>现在，只要本地作了提交add和commit之后，就可以：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure>

<p>把本地master的最新修改推送至GitHub</p>
<ul>
<li>如何参与开源项目</li>
</ul>
<p>先“Fork”，然后clone这个fork到自己账号下的库,然后，往自己的仓库推送。</p>
<p>最后在自己的fork库处发起pull request。</p>
<ul>
<li>fork了别人的库，如何更新？</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">git remote add upstream source_url &#x2F;&#x2F;添加别人的库地址</span><br><span class="line">git fetch upstream</span><br><span class="line">git co master</span><br><span class="line">git merge upstream&#x2F;master   #同步</span><br><span class="line">git push origin master     #更新到自己的github库上</span><br></pre></td></tr></table></figure>

<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><ul>
<li>client_loop: send disconnect: Broken pipe</li>
</ul>
<p>上述问题出现在vmware里面的centos8上，修改/etc/ssh/ssh_config文件，在Host *条目下添加 IPQoS=throughput</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Host *    </span><br><span class="line">   IPQoS&#x3D;throughput</span><br></pre></td></tr></table></figure>

<p>重新启动ssh服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart sshd</span><br></pre></td></tr></table></figure>

<h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><h2 id="Git-for-Windows乱码"><a href="#Git-for-Windows乱码" class="headerlink" title="Git for Windows乱码"></a>Git for Windows乱码</h2><p>卸载重装即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.quotepath false </span><br><span class="line">git config --global gui.encoding utf-8</span><br><span class="line">git config --global i18n.commit.encoding utf-8 </span><br><span class="line">git config --global i18n.logoutputencoding utf-8</span><br></pre></td></tr></table></figure>









<h2 id="LF-will-be-replaced-by-CRLF"><a href="#LF-will-be-replaced-by-CRLF" class="headerlink" title="LF will be replaced by CRLF"></a>LF will be replaced by CRLF</h2><p>Windows平台上： 使用回车（CR）和换行（LF）两个字符来结束一行，回车+换行(CR+LF)，即“\r\n”；</p>
<p>Mac 和 Linux平台：只使用换行（LF）一个字符来结束一行，即“\n”；</p>
<p>许多 Windows 上的编辑器会悄悄把行尾的换行（LF）转换成回车（CR）和换行（LF），或在用户按下 Enter 键时，插入回车（CR）和换行（LF）两个字符。</p>
<p>解决方法1(推荐)： Git 可以在你提交时自动地把回车（CR）和换行（LF）转换成换行（LF），而在检出代码时把换行（LF）转换成回车（CR）和换行（LF）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.autocrlf true</span><br></pre></td></tr></table></figure>

<p>解决方法2：</p>
<p>在提交时把回车和换行转换成换行，而在检出时不转换。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.autocrlf input</span><br></pre></td></tr></table></figure>

<p>解决方法3： 提交检出均不转换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.autocrlf false</span><br></pre></td></tr></table></figure>

<p><a href="https://www.jianshu.com/p/450cd21b36a4" target="_blank" rel="noopener">https://www.jianshu.com/p/450cd21b36a4</a></p>
<h1 id="Git-子模块"><a href="#Git-子模块" class="headerlink" title="Git 子模块"></a>Git 子模块</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[submodule &quot;aPlatform&quot;]</span><br><span class="line">path &#x3D; aPlatform</span><br><span class="line">url &#x3D; http:&#x2F;&#x2F;url&#x2F;aPlatform.git</span><br><span class="line">git clone -b develop --recurse-submodules url</span><br></pre></td></tr></table></figure>

<p>子模块允许你将一个 Git 仓库作为另一个 Git 仓库的子目录。 它能让你将另一个仓库克隆到自己的项目中，同时还保持提交的独立。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git submodule add https:&#x2F;&#x2F;github.com&#x2F;chaconinc&#x2F;DbConnector 如果你想要放到其他地方，那么可以在命令结尾添加一个不同的路径。</span><br><span class="line">git submodule add git@github.com:webrtc&#x2F;samples.git webrtc&#x2F;samples</span><br><span class="line">git config -f .gitmodules submodule.webrtc&#x2F;samples.branch gh-pages  跟踪子模块仓库的 “gh-pages” 分支</span><br></pre></td></tr></table></figure>

<p>如果你已经克隆了项目但忘记了 –recurse-submodules</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull 命令添加 --recurse-submodules  当你不在那个子目录中时，Git 并不会跟踪它的内容， 而是将它看作子模块仓库中的某个具体的提交。</span><br></pre></td></tr></table></figure>

<p>或 git submodule update –remote <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules" target="_blank" rel="noopener">https://git-scm.com/book/en/v2/Git-Tools-Submodules</a></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://www.ruanyifeng.com/blog/2014/06/git_remote.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2014/06/git_remote.html</a></p>
<p><a href="https://help.github.com/articles/testing-your-ssh-connection/" target="_blank" rel="noopener">https://help.github.com/articles/testing-your-ssh-connection/</a></p>
<p><a href="https://help.github.com/articles/configuring-a-remote-for-a-fork/" target="_blank" rel="noopener">https://help.github.com/articles/configuring-a-remote-for-a-fork/</a></p>
<p><a href="https://help.github.com/articles/syncing-a-fork/" target="_blank" rel="noopener">https://help.github.com/articles/syncing-a-fork/</a></p>
<p><a href="https://github.com/geeeeeeeeek/git-recipes/wiki/3.3-创建Pull-Request" target="_blank" rel="noopener">https://github.com/geeeeeeeeek/git-recipes/wiki/3.3-%E5%88%9B%E5%BB%BAPull-Request</a></p>
<p><a href="http://blog.csdn.net/ygrx/article/details/9109783" target="_blank" rel="noopener">http://blog.csdn.net/ygrx/article/details/9109783</a></p>
<p><a href="http://blog.xiayf.cn/2016/01/18/github-fork-pull-request/" target="_blank" rel="noopener">http://blog.xiayf.cn/2016/01/18/github-fork-pull-request/</a></p>
<h1 id="Linux-搭建-git-服务器"><a href="#Linux-搭建-git-服务器" class="headerlink" title="Linux 搭建 git 服务器"></a>Linux 搭建 git 服务器</h1><p>后面注释部分为Ubuntu平台</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install git  #apt install git</span><br></pre></td></tr></table></figure>

<p>创建一个git用户，用来运行git服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd git  #adduser git</span><br><span class="line">passwd git</span><br></pre></td></tr></table></figure>

<p>先选定一个目录作为Git仓库，假定是/srv/sample.git，在/srv目录下输入命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init --bare sample.git   #Git会创建一个裸仓库，裸仓库没有工作区，并且服务器上的Git仓库通常都以.git结尾。</span><br><span class="line">chown -R git:git sample.git</span><br></pre></td></tr></table></figure>

<p>将你的id_rsa.pub上传到git服务器，然后用cat命令将内容拷贝到授权文件authorized_keys中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su git</span><br></pre></td></tr></table></figure>

<p>如果.ssh目录不存在，可以运行ssh-keygen -t rsa -C “yourname”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch &#x2F;home&#x2F;git&#x2F;.ssh&#x2F;authorized_keys   #注意authorized_keys文件权限为git</span><br><span class="line">cat id_ras.pub &gt;&gt; authorized_keys   #注意a single &#39;&gt;&#39; will overwrite all the contents of the second file you specify. A double &#39;&gt;&#39; will append it。</span><br></pre></td></tr></table></figure>

<p>If you want to add others to your access list, they simply need to give you their id_rsa.pub key and you append it to the authorized keys file.一行一个 打开RSA认证</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br><span class="line">RSAAuthentication yes     </span><br><span class="line">PubkeyAuthentication yes     </span><br><span class="line">AuthorizedKeysFile  .ssh&#x2F;authorized_keys</span><br><span class="line">service sshd restart</span><br></pre></td></tr></table></figure>

<p>现在，可以通过git clone命令克隆远程仓库了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone git@server:&#x2F;srv&#x2F;sample.git</span><br><span class="line">git clone git@192.168.8.34:&#x2F;data&#x2F;git&#x2F;learngit.git</span><br></pre></td></tr></table></figure>

<p>如果团队很小，把每个人的公钥收集起来放到服务器的/home/git/.ssh/authorized_keys文件里就是可行的。如果团队有几百号人，可以用Gitosis来管理公钥。</p>
<h2 id="管理权限"><a href="#管理权限" class="headerlink" title="管理权限"></a>管理权限</h2><p>有很多视源代码如生命，而且视员工为窃贼的公司，会在版本控制系统里设置一套完善的权限控制，每个人是否有读写权限会精确到每个分支甚至每个目录下。</p>
<p>因为Git是为Linux源代码托管而开发的，所以Git也继承了开源社区的精神，不支持权限控制。不过，因为Git支持钩子（hook），所以，可以在服务器端编写一系列脚本来控制提交等操作，达到权限控制的目的。Gitolite就是这个工具。</p>
<p>这里不介绍Gitolite了，不要把有限的生命浪费到权限斗争中。</p>
<h2 id="权限参考"><a href="#权限参考" class="headerlink" title="权限参考"></a>权限参考</h2><p>用户home目录755权限 rwx r-x r-x</p>
<p>.ssh目录700权限 rwx — —</p>
<p>authorized_keys 600权限 rx- — —</p>
<h2 id="参考-1"><a href="#参考-1" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/elesos/progit/blob/master/zh/04-git-server/01-chapter4.markdown" target="_blank" rel="noopener">https://github.com/elesos/progit/blob/master/zh/04-git-server/01-chapter4.markdown</a> 有GitWeb的介绍</p>
<p><a href="https://git-scm.com/book/zh/v2/服务器上的-Git-在服务器上搭建-Git" target="_blank" rel="noopener">https://git-scm.com/book/zh/v2/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E6%90%AD%E5%BB%BA-Git</a></p>
<p>git log –author=”liudan” –pretty=tformat: –numstat | awk ‘{ add += $1; subs += $2; loc += $1 - $2 } END { printf “added lines: %s, removed lines: %s, total lines: %s\n”, add, subs, loc }’ -<br> added lines: 4994, removed lines: 2282, total lines: 2712</p>
<p>这个指令可以查看仓库里面，自己改了多少代码行</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/git/" rel="tag"># git</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
                <a href="/2021/07/08/%E6%8A%80%E6%9C%AF/mac/app%20store%E7%94%B3%E8%AF%B7%E8%AE%A2%E9%98%85%E9%80%80%E6%AC%BE/" rel="next" title="app store申请订阅退款">
                  <i class="fa fa-chevron-left"></i> app store申请订阅退款
                </a>
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
                <a href="/2021/07/21/%E6%8A%80%E6%9C%AF/%E5%B7%A5%E5%85%B7/srt%E6%A0%BC%E5%BC%8F/" rel="prev" title="srt格式">
                  srt格式 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
  <div class="comments" id="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC80NzUwNi8yNDAwNg=="></div>
  </div>
  

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#初始配置"><span class="nav-number">1.</span> <span class="nav-text">初始配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置别名"><span class="nav-number">2.</span> <span class="nav-text">配置别名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#忽略文件权限变化"><span class="nav-number">3.</span> <span class="nav-text">忽略文件权限变化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用操作"><span class="nav-number">4.</span> <span class="nav-text">常用操作</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-解决远程仓库文件大小写问题"><span class="nav-number"></span> <span class="nav-text">Git 解决远程仓库文件大小写问题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#改动"><span class="nav-number">1.</span> <span class="nav-text">改动</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#工作区（Working-Directory）"><span class="nav-number">2.</span> <span class="nav-text">工作区（Working Directory）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#版本库（Repository）"><span class="nav-number">3.</span> <span class="nav-text">版本库（Repository）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#撤销"><span class="nav-number">4.</span> <span class="nav-text">撤销</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#撤消对文件的修改状态"><span class="nav-number">4.1.</span> <span class="nav-text">撤消对文件的修改状态</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#删除文件"><span class="nav-number">5.</span> <span class="nav-text">删除文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分支管理"><span class="nav-number">6.</span> <span class="nav-text">分支管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#冲突"><span class="nav-number">7.</span> <span class="nav-text">冲突</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bug分支"><span class="nav-number">8.</span> <span class="nav-text">bug分支</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-本地服务器"><span class="nav-number"></span> <span class="nav-text">Git 本地服务器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-clone仓库的一个子目录"><span class="nav-number"></span> <span class="nav-text">Git clone仓库的一个子目录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#防止重复修复"><span class="nav-number">1.</span> <span class="nav-text">防止重复修复</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#不想要的分支"><span class="nav-number">2.</span> <span class="nav-text">不想要的分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#推送"><span class="nav-number">3.</span> <span class="nav-text">推送</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Rebase变基"><span class="nav-number">4.</span> <span class="nav-text">Rebase变基</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-pull-–rebase"><span class="nav-number">4.1.</span> <span class="nav-text">Git pull –rebase</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SourceTree"><span class="nav-number">5.</span> <span class="nav-text">SourceTree</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#提交"><span class="nav-number">5.1.</span> <span class="nav-text">提交</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分支"><span class="nav-number">5.2.</span> <span class="nav-text">分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#推送-1"><span class="nav-number">5.3.</span> <span class="nav-text">推送</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#如何clone远程的指定分支？"><span class="nav-number">6.</span> <span class="nav-text">如何clone远程的指定分支？</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-add-git-add-u-git-add-A命令区别"><span class="nav-number"></span> <span class="nav-text">Git add . git add -u git add -A命令区别</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#提交到本地"><span class="nav-number">0.1.</span> <span class="nav-text">提交到本地</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改url"><span class="nav-number">0.2.</span> <span class="nav-text">修改url</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fetch与pull"><span class="nav-number">0.3.</span> <span class="nav-text">fetch与pull</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#push"><span class="nav-number">0.4.</span> <span class="nav-text">push</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#remote"><span class="nav-number">0.5.</span> <span class="nav-text">remote</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#branch"><span class="nav-number">0.6.</span> <span class="nav-text">branch</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Github常用操作"><span class="nav-number">1.</span> <span class="nav-text">Github常用操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#问题"><span class="nav-number">2.</span> <span class="nav-text">问题</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#常见问题"><span class="nav-number"></span> <span class="nav-text">常见问题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-for-Windows乱码"><span class="nav-number">1.</span> <span class="nav-text">Git for Windows乱码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LF-will-be-replaced-by-CRLF"><span class="nav-number">2.</span> <span class="nav-text">LF will be replaced by CRLF</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-子模块"><span class="nav-number"></span> <span class="nav-text">Git 子模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#参考"><span class="nav-number">1.</span> <span class="nav-text">参考</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Linux-搭建-git-服务器"><span class="nav-number"></span> <span class="nav-text">Linux 搭建 git 服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#管理权限"><span class="nav-number">1.</span> <span class="nav-text">管理权限</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#权限参考"><span class="nav-number">2.</span> <span class="nav-text">权限参考</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考-1"><span class="nav-number">3.</span> <span class="nav-text">参考</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="elesos"
    src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">elesos</p>
  <div class="site-description" itemprop="description">视频经验，视频解答，视频教程，视频教学</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">128</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">42</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">43</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/starRTC" title="GitHub &amp;rarr; https:&#x2F;&#x2F;github.com&#x2F;starRTC" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:895377235@qq.com" title="E-Mail &amp;rarr; mailto:895377235@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">elesos</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.5.0
  </div>

        












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  
















  

  

<script>
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
</script>

  <script type="text/javascript" src="/js/src/love.js"></script>
</body>
</html>
